{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/confirmation.css' %}">
{% endblock %}

{% block title %}Order Confirmation{% endblock %}

{% block content %}
<div class="confirmation-container">
    <!-- LEFT SIDE: User info and payment -->
    <div class="payment-info">
        <h2>ðŸ’³ Payment & Delivery</h2>
        <form id="payment-form" method="post">
            {% csrf_token %}
            <div class="form-group">
                <label>{{ form.name.label }}</label>
                {{ form.name }}
            </div>

            <div class="form-group">
                <label>{{ form.email.label }}</label>
                {{ form.email }}
            </div>

            <div class="form-group">
                <label>{{ form.card_number.label }}</label>
                {{ form.card_number }}
            </div>

            <div class="form-group">
                <label>{{ form.expiration_at.label }}</label>
                {{ form.expiration_at }}
            </div>

            <div class="form-group">
                <label>{{ form.cvv_code.label }}</label>
                {{ form.cvv_code }}
            </div>

            <div class="form-group">
                <label>{{ form.order_type.label }}</label>
                {{ form.order_type }}
            </div>

            <button type="submit" class="confirm-btn">Confirm & Pay</button>
        </form>
    </div>

    <!-- RIGHT SIDE: Order summary -->
    <div class="order-summary">
        <h2>ðŸ§¾ Order Summary</h2>
        <div class="order-items">
            {% for item in order.items.all %}
            <div class="order-item">
                <span>{{ item.name }} Ã— {{ item.quantity }}</span>
                <span>â‚´{{ item.price_text }}</span>
            </div>
            {% endfor %}
        </div>
        <hr>
        <div class="order-total">
            <span>Total:</span>
            <span class="total-price">{{ order.total_text }}</span>
        </div>
    </div>
</div>
{% endblock %}
